(self.webpackChunkvistalk=self.webpackChunkvistalk||[]).push([[179],{"./libs/vistalk-visual/src/lib sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./visual.stories.tsx":"./libs/vistalk-visual/src/lib/visual.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./libs/vistalk-visual/src/lib sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./libs/vistalk-visual/src/lib sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./libs/vistalk-visual/src/lib sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./libs/vistalk-visual/.storybook/preview.js":()=>{},"./libs/vistalk-visual/.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),C_Users_hzt_source_repos_VisTalk_src_libs_vistalk_visual_storybook_preview_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./libs/vistalk-visual/.storybook/preview.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(C_Users_hzt_source_repos_VisTalk_src_libs_vistalk_visual_storybook_preview_js__WEBPACK_IMPORTED_MODULE_10__).forEach((function(key){var value=C_Users_hzt_source_repos_VisTalk_src_libs_vistalk_visual_storybook_preview_js__WEBPACK_IMPORTED_MODULE_10__[key];switch(key){case"args":return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.uc)(value);case"argTypes":return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.HZ)(loader,!1)}));case"parameters":return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__._C)(enhancer)}));case"render":return(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,C_Users_hzt_source_repos_VisTalk_src_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_11__.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./libs/vistalk-visual/src/lib/visual.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Bar:()=>Bar,BarAddLine:()=>BarAddLine,BarAddRect:()=>BarAddRect,BarHighlight:()=>BarHighlight,Bike:()=>Bike,BikeBar:()=>BikeBar,Column:()=>Column,ColumnAddLine:()=>ColumnAddLine,ColumnAddRect:()=>ColumnAddRect,ColumnHighlight:()=>ColumnHighlight,Line:()=>Line,Person:()=>Person,TrendLine:()=>TrendLine,__namedExportsOrder:()=>__namedExportsOrder,default:()=>visual_stories});__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js");var EncodingChannelType,DataType,AggregateFunction,ChartEncodingDefinitionType,src=__webpack_require__("./node_modules/d3/src/index.js"),react=__webpack_require__("./node_modules/react/index.js"),ChartProps=(__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),function ChartProps(){this.id=void 0,this.parentId=void 0,this.name=void 0,this.title=void 0,this.width=void 0,this.height=void 0,this.chartWidth=void 0,this.chartHeight=void 0,this.margin=void 0,this.childs=void 0,this.data=void 0,this.color=void 0,this.maxValue=void 0,this.annotations=void 0,this.highlights=void 0,this.X=void 0,this.Y=void 0,this.encodings=void 0,this.encodings=new Map});!function(EncodingChannelType){EncodingChannelType[EncodingChannelType.None=0]="None",EncodingChannelType[EncodingChannelType.X=1]="X",EncodingChannelType[EncodingChannelType.Y=2]="Y",EncodingChannelType[EncodingChannelType.X2=3]="X2",EncodingChannelType[EncodingChannelType.Y2=4]="Y2",EncodingChannelType[EncodingChannelType.Color=5]="Color",EncodingChannelType[EncodingChannelType.Opacity=6]="Opacity",EncodingChannelType[EncodingChannelType.FillOpacity=7]="FillOpacity",EncodingChannelType[EncodingChannelType.StrokeOpacity=8]="StrokeOpacity",EncodingChannelType[EncodingChannelType.Shape=9]="Shape",EncodingChannelType[EncodingChannelType.Size=10]="Size",EncodingChannelType[EncodingChannelType.StrokeWidth=11]="StrokeWidth",EncodingChannelType[EncodingChannelType.Text=12]="Text",EncodingChannelType[EncodingChannelType.Tooltip=13]="Tooltip",EncodingChannelType[EncodingChannelType.Trend=14]="Trend"}(EncodingChannelType||(EncodingChannelType={})),function(DataType){DataType[DataType.String=0]="String",DataType[DataType.DateTime=1]="DateTime",DataType[DataType.Integer=2]="Integer",DataType[DataType.Double=3]="Double",DataType[DataType.Boolean=4]="Boolean",DataType[DataType.Blank=5]="Blank"}(DataType||(DataType={})),function(AggregateFunction){AggregateFunction[AggregateFunction.None=0]="None",AggregateFunction[AggregateFunction.Sum=1]="Sum",AggregateFunction[AggregateFunction.Count=2]="Count",AggregateFunction[AggregateFunction.Min=3]="Min",AggregateFunction[AggregateFunction.Max=4]="Max",AggregateFunction[AggregateFunction.Average=5]="Average",AggregateFunction[AggregateFunction.DistinctCount=6]="DistinctCount",AggregateFunction[AggregateFunction.Median=7]="Median"}(AggregateFunction||(AggregateFunction={})),function(ChartEncodingDefinitionType){ChartEncodingDefinitionType[ChartEncodingDefinitionType.None=0]="None",ChartEncodingDefinitionType[ChartEncodingDefinitionType.Ordinal=1]="Ordinal",ChartEncodingDefinitionType[ChartEncodingDefinitionType.Quantitative=2]="Quantitative"}(ChartEncodingDefinitionType||(ChartEncodingDefinitionType={}));function axisHorizontal(chart,x,y,height,data,noRotate){void 0===noRotate&&(noRotate=!1),function axisLeft(chart,y){chart.append("g").attr("class","y axis").call(src.y4O(y).ticks(5).tickFormat(src.WUZ("~s")))}(chart,y),function axisBottom(chart,x,height,data,noRotate){var _d3$max,axis=chart.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(src.LLu(x)),maxVal=null!=(_d3$max=src.Fp7(data.map((function(x){return x.key.length}))))?_d3$max:0;!noRotate&&maxVal>10&&axis.selectAll("text").attr("transform","rotate(-15)").attr("text-anchor","end")}(chart,x,height,data,noRotate)}function getChart(svg,width,height,margin){return svg.attr("width",width+margin.left+margin.right),svg.attr("height",height+margin.top+margin.bottom),svg.append("g").attr("class","chartArea").attr("transform","translate("+margin.left+","+margin.top+")")}function getProps(series,spec){var props=new ChartProps;props.id=series.id,props.parentId=series.parentId,series.title&&(props.name=series.title);var isDateTime=!1;if(series.encoding&&series.encoding.forEach((function(e){var _e$constantValue2;switch(e.channelType){case"X":case"Y":var _e$constantValue;if(e.field)"DateTime"===e.field.dataType&&(isDateTime=!0),props.encodings.set(e.channelType,e.field.name);else props.encodings.set(e.channelType,null!=(_e$constantValue=e.constantValue)?_e$constantValue:"");break;default:props.encodings.set(e.channelType,null!=(_e$constantValue2=e.constantValue)?_e$constantValue2:"")}})),props.color&&(props.color="#1f77b4"),props.title=series.title,series.data){var _d3$max2,data=null,val=props.encodings.get("Y");if(val){var key=props.encodings.get("X");data=key?series.data.values.map((function(x){return{key:x.get(key),val:x.get(val)}})):series.data.values.map((function(x){return{key:val,val:x.get(val)}}))}else"TrendLine"===series.seriesType&&(data=series.data.values.map((function(x){return{key:x.get("x"),val:x.get("y")}})));if(console.log(["series data",series.data]),data&&isDateTime&&data.forEach((function(x){return x.date=Date.parse(x.key)})),console.log(["series data2",data]),data)props.data=data,props.maxValue=null!=(_d3$max2=src.Fp7(data,(function(d){return d.val})))?_d3$max2:0}if(spec){var highlights=[],annotations=[];spec.series.forEach((function(s1){if("Highlight"===s1.seriesType&&s1.parentId===series.id){var _s$color,_s$data,s=getProps(s1,spec);highlights.push({color:null!=(_s$color=s.color)?_s$color:"orange",values:null!=(_s$data=s.data)?_s$data:[]})}if("Annotation"===s1.seriesType&&s1.parentId===series.id){console.log(["annotation",s1]);var fieldName="",isX=!1,annotationColor="black";s1.encoding.forEach((function(e){if(e.constantValue)switch(e.channelType){case"Color":annotationColor=e.constantValue;break;case"X":isX=!0,fieldName=e.constantValue;break;case"Y":fieldName=e.constantValue}}));var annotationData=s1.data.values,range=[];annotationData.forEach((function(x){return range.push(x.get(fieldName))}));var max=src.Fp7(range),min=src.VV$(range);annotations.push({mark:s1.mark,isX,color:annotationColor,from:min,to:max})}})),props.highlights=highlights,props.annotations=annotations}return props}function getIcon(chart,name,path){name=name+"_"+function hashCode(str){var i,hash=0;if(0===str.length)return hash;for(i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash}(path);var pathG=chart.append("g"),node=pathG.append("path").attr("d",path).node();if(!node)throw new Error("faield to get node");var bbox=node.getBBox();pathG.remove();var iconLeft=bbox.x,iconTop=bbox.y,iconWidth=bbox.width,iconHeight=bbox.height,scale=iconWidth>iconHeight?20/iconWidth:20/iconHeight,iconName="icon"+name,g=chart.append("defs").append("g").attr("id",iconName);return g.append("rect").attr("width",iconWidth*scale+2).attr("height",iconHeight*scale+2).attr("fill","#ffffff"),g.append("path").attr("d",path).attr("transform","scale("+scale+") translate("+(1-iconLeft)+","+(1-iconTop)+")"),{iconName:"#"+iconName,iconWidth:iconWidth*scale+2,iconHeight:iconHeight*scale+2}}var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),defaultMargin={top:20,left:40,right:20,bottom:40};function drawBarSeries(svg,props,series,customMark){var _props$data,_props$color,_props$margin,_props$width,_props$height,_d3$max;if(series.markPath)return function drawIsotypeBar(svg,props,series){var _props$data,_props$color,_props$margin,_props$width,_props$height,_props$maxValue,_series$markPath,data=null!=(_props$data=props.data)?_props$data:[],color=null!=(_props$color=props.color)?_props$color:"#1f77b4",margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,width=null!=(_props$width=props.width)?_props$width:100,height=null!=(_props$height=props.height)?_props$height:100,maxValue=null!=(_props$maxValue=props.maxValue)?_props$maxValue:0,chart=getChart(svg,width,height,margin),_getIcon=getIcon(chart,series.mark,null!=(_series$markPath=series.markPath)?_series$markPath:""),iconName=_getIcon.iconName,iconWidth=_getIcon.iconWidth,iconHeight=_getIcon.iconHeight,x=src.tiA().range([0,width]).paddingInner(.2).paddingOuter(.2).domain(data.map((function(d){return d.key}))),y=src.BYU().range([height,0]).domain([0,maxValue]),cols=Math.floor(x.bandwidth()/iconWidth),rows=Math.floor(height/iconHeight),count=cols*rows,paddingTop=height-rows*iconHeight-2,z=src.BYU().range([count,0]).domain([0,maxValue]),host=chart.append("g").attr("transform",(function(d){return"translate("+(x.bandwidth()-cols*iconWidth)/2+","+paddingTop+")"}));return host.append("g").selectAll("g").data(data).join("g").selectAll("use").data((function(d){return src.w6H(count).map((function(i){var _x;return{x:(null!=(_x=x(d.key))?_x:0)+i%cols*iconWidth,y:Math.floor(i/cols)*iconHeight,color:z(d.val)<=i?color:"#cccccc"}}))})).join("use").attr("xlink:href",iconName).attr("x",(function(d){return d.x})).attr("y",(function(d){return d.y})).attr("fill",(function(d){return d.color})),props.highlights&&props.highlights.forEach((function(d){host.append("g").selectAll("g").data(d.values).join("g").selectAll("use").data((function(item){return lodash.filter(src.w6H(count).map((function(i){var _x2;return{x:(null!=(_x2=x(item.key))?_x2:0)+i%cols*iconWidth,y:Math.floor(i/cols)*iconHeight,filled:z(item.val)<=i}})),(function(x){return x.filled}))})).join("use").attr("xlink:href",iconName).attr("x",(function(item){return item.x})).attr("y",(function(item){return item.y})).attr("fill",d.color)})),axisHorizontal(chart,x,y,height,data,!0),{width:width+margin.left+margin.right,height:height+margin.top+margin.bottom}}(svg,props,series);var data=null!=(_props$data=props.data)?_props$data:[],color=null!=(_props$color=props.color)?_props$color:"#1f77b4",margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,width=null!=(_props$width=props.width)?_props$width:100,height=null!=(_props$height=props.height)?_props$height:100,maxValue=null!=(_d3$max=src.Fp7(data,(function(d){return d.val})))?_d3$max:0;void 0!==props.maxValue&&(maxValue=props.maxValue);var x=src.tiA().range([0,height]).paddingInner(.3).paddingOuter(.2).domain(data.map((function(d){return d.key}))),y=src.BYU().range([0,width]).domain([0,maxValue]),chart=getChart(svg,width,height,margin);return props.annotations&&props.annotations.forEach((function(a){"Rect"===a.mark?a.isX||chart.append("rect").attr("fill",a.color).attr("opacity",.15).attr("y",0).attr("height",height).attr("x",y(a.from)).attr("width",y(a.to)-y(a.from)):"Line"===a.mark&&chart.append("line").attr("stroke",a.color).attr("stroke-dasharray","4").attr("opacity",.8).attr("x1",y(a.to)).attr("x2",y(a.from)).attr("y1",0).attr("y2",height)})),customMark&&"object"!=typeof customMark?data.forEach((function(d){var top=x(d.key),width=y(d.val),height=x.bandwidth(),g=chart.append("g"),size=customMark(g,0,0,width,height,d.key);g.attr("transform","translate("+Math.max(0,0+width-size.width)+", "+top+")")})):chart.append("g").attr("class","dataPoints").selectAll("rect").data(data).join("rect").attr("fill",(function(d){return color})).call((function(r){return r.attr("x","0").attr("y",(function(d){var _x;return null!=(_x=x(d.key))?_x:0})).attr("width",(function(d){return y(d.val)})).attr("height",x.bandwidth())})),props.highlights&&props.highlights.forEach((function(d){return chart.append("g").selectAll("rect").data(d.values).join("rect").attr("fill",d.color).call((function(r){return r.attr("x","0").attr("y",(function(d){var _x2;return null!=(_x2=x(d.key))?_x2:0})).attr("width",(function(d){return y(d.val)})).attr("height",x.bandwidth())}))})),function axisVertical(chart,x,y,height){var xAxis=src.y4O(x),yAxis=src.LLu(y).ticks(4).tickFormat(src.WUZ("~s"));chart.append("g").attr("class","x axis").call(xAxis),chart.append("g").attr("class","y axis").attr("transform","translate(0,"+height+")").call(yAxis)}(chart,x,y,height),{width:width+margin.left+margin.right,height:height+margin.top+margin.bottom}}function drawColumnSeries(svg,props,series){var _props$margin,_props$width,_props$height,_props$data,_props$color,_props$maxValue;if(series.markPath)return function drawIsotypeColumn(svg,props,series){var _props$data,_props$color,_props$margin,_props$width,_props$height,_props$maxValue,_series$markPath,data=null!=(_props$data=props.data)?_props$data:[],color=null!=(_props$color=props.color)?_props$color:"#1f77b4",margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,width=null!=(_props$width=props.width)?_props$width:100,height=null!=(_props$height=props.height)?_props$height:100,maxValue=null!=(_props$maxValue=props.maxValue)?_props$maxValue:0,chart=getChart(svg,width,height,margin),_getIcon=getIcon(chart,series.mark,null!=(_series$markPath=series.markPath)?_series$markPath:""),iconName=_getIcon.iconName,iconWidth=_getIcon.iconWidth,iconHeight=_getIcon.iconHeight,x=src.tiA().range([0,width]).paddingInner(.2).paddingOuter(.2).domain(data.map((function(d){return d.key}))),y=src.BYU().range([height,0]).domain([0,maxValue]),cols=Math.floor(x.bandwidth()/iconWidth),rows=Math.floor(height/iconHeight),count=cols*rows,paddingTop=height-rows*iconHeight-2,z=src.BYU().range([count,0]).domain([0,maxValue]),host=chart.append("g").attr("transform",(function(d){return"translate("+(x.bandwidth()-cols*iconWidth)/2+","+paddingTop+")"}));return host.append("g").selectAll("g").data(data).join("g").selectAll("use").data((function(d){return src.w6H(count).map((function(i){var _x;return{x:(null!=(_x=x(d.key))?_x:0)+i%cols*iconWidth,y:Math.floor(i/cols)*iconHeight,color:z(d.val)<=i?color:"#cccccc"}}))})).join("use").attr("xlink:href",iconName).attr("x",(function(d){return d.x})).attr("y",(function(d){return d.y})).attr("fill",(function(d){return d.color})),props.annotations&&props.annotations.forEach((function(a){"Rect"===a.mark?a.isX||chart.append("g").attr("class","annotationRect").append("rect").attr("fill",a.color).attr("opacity",.15).attr("y",y(Math.min(maxValue,a.to))).attr("height",Math.max(1,y(a.from)-y(Math.min(maxValue,a.to)))).attr("x",0).attr("width",width):"Line"===a.mark&&chart.append("line").attr("stroke",a.color).attr("stroke-dasharray","4").attr("opacity",.8).attr("y1",y(a.to)).attr("y2",y(a.from)).attr("x1",0).attr("x2",width)})),props.highlights&&props.highlights.forEach((function(d){host.append("g").selectAll("g").data(d.values).join("g").selectAll("use").data((function(item){return lodash.filter(src.w6H(count).map((function(i){var _x2;return{x:null!=(_x2=x(item.key))?_x2:0+i%cols*iconWidth,y:Math.floor(i/cols)*iconHeight,filled:z(item.val)<=i}})),(function(x){return x.filled}))})).join("use").attr("xlink:href",iconName).attr("x",(function(item){return item.x})).attr("y",(function(item){return item.y})).attr("fill",d.color)})),axisHorizontal(chart,x,y,height,data,!0),{width:width+margin.left+margin.right,height:height+margin.top+margin.bottom}}(svg,props,series);var margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,width=null!=(_props$width=props.width)?_props$width:100,height=null!=(_props$height=props.height)?_props$height:100,data=null!=(_props$data=props.data)?_props$data:[],color=null!=(_props$color=props.color)?_props$color:"#1f77b4",maxValue=null!=(_props$maxValue=props.maxValue)?_props$maxValue:0,x=src.tiA().range([0,width]).paddingInner(.3).paddingOuter(.2).domain(data.map((function(d){return d.key}))),y=src.BYU().range([height,0]).domain([0,maxValue]),chart=getChart(svg,width,height,margin);return props.annotations&&props.annotations.forEach((function(a){"Rect"===a.mark?a.isX||chart.append("g").attr("class","annotationRect").append("rect").attr("fill",a.color).attr("opacity",.15).attr("y",y(Math.min(maxValue,a.to))).attr("height",Math.max(1,y(a.from)-y(Math.min(maxValue,a.to)))).attr("x",0).attr("width",width):"Line"===a.mark&&chart.append("line").attr("stroke",a.color).attr("stroke-dasharray","4").attr("opacity",.8).attr("y1",y(a.to)).attr("y2",y(a.from)).attr("x1",0).attr("x2",width)})),chart.append("g").attr("class","dataPoints").selectAll("rect").data(data).join("rect").attr("fill",(function(d){return color})).call((function(r){return r.attr("x",(function(d){var _x;return null!=(_x=x(d.key))?_x:0})).attr("y",(function(d){return y(d.val)})).attr("height",(function(d){return height-y(d.val)})).attr("width",x.bandwidth())})),props.highlights&&props.highlights.forEach((function(d){return chart.append("g").selectAll("rect").data(d.values).join("rect").attr("fill",d.color).call((function(r){return r.attr("x",(function(d){var _x2;return null!=(_x2=x(d.key))?_x2:0})).attr("y",(function(d){return y(d.val)})).attr("height",(function(d){return height-y(d.val)})).attr("width",x.bandwidth())}))})),axisHorizontal(chart,x,y,height,data),{width:width+margin.left+margin.right,height:height+margin.top+margin.bottom}}function drawLineSeries(svg,props,spec){var _props$data,_props$color,_props$margin,_props$width,_props$height,_props$maxValue,data=null!=(_props$data=props.data)?_props$data:[],color=null!=(_props$color=props.color)?_props$color:"#1f77b4",margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,width=null!=(_props$width=props.width)?_props$width:100,height=null!=(_props$height=props.height)?_props$height:100,maxValue=null!=(_props$maxValue=props.maxValue)?_props$maxValue:0,repeats=[];if(props.childs&&props.childs.forEach((function(s){"Repeat"===s.seriesType&&repeats.push(s)})),repeats.length>0)return function drawSmallMultipleLineSeries(svg,props,repeats,spec){props.color;var _d3$max,data=repeats.map((function(x){return getProps(x,spec)})).map((function(x){var _x$name,_x$data;return{name:null!=(_x$name=x.name)?_x$name:"",values:null!=(_x$data=x.data)?_x$data:[],highlights:x.highlights}})),childs=src.w6H(data.length).map((function(x,i){return{data:data[i],start:200*i,height:200}})),containerHeight=null!=(_d3$max=src.Fp7(childs.map((function(x){return x.start+x.height}))))?_d3$max:100;return svg.attr("width",400),svg.attr("height",containerHeight),{width:400,height:containerHeight}}(svg,props,repeats,spec);var x=src.KYF().domain(src.Wem(data.map((function(d){var _d$date;return null!=(_d$date=d.date)?_d$date:0})))).range([0,width]),y=src.BYU().domain([0,maxValue]).nice().range([height,0]);svg.attr("width",width+margin.left+margin.right),svg.attr("height",height+margin.top+margin.bottom);var chart=svg.append("g").attr("transform","translate("+margin.left+","+margin.top+")"),line=src.jvg().defined((function(d){return!isNaN(d.val)})).x((function(d){var _d$date2;return x(null!=(_d$date2=d.date)?_d$date2:0)})).y((function(d){return y(d.val)}));return chart.append("path").datum(data).attr("fill","none").attr("stroke",color).attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",line),axisHorizontal(chart,x,y,height,data),props.childs&&props.childs.forEach((function(s){if("TrendLine"===s.seriesType){var highlightColor="red";s.encoding.forEach((function(e){"Color"===e.channelType&&e.constantValue&&(highlightColor=e.constantValue)}));var trendLineProps=getProps(s,spec),highlightData=trendLineProps.data;console.log(["trendline",s,trendLineProps]),highlightData&&(highlightData.forEach((function(x){return x.date=Date.parse(x.key)})),chart.append("path").datum(highlightData).attr("fill","none").attr("stroke",highlightColor).attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-dasharray","4").attr("d",line))}})),{width:width+margin.left+margin.right,height:height+margin.top+margin.bottom}}function drawChart(svg,spec){if(spec&&spec.series&&0!==spec.series.length){var left=0,containerWidth=0,containerHeight=0,maxValues=new Map,hasData=!1;if(spec.series.forEach((function(s,i){if(s.isMainSeries){var _props$maxValue,props=getProps(s,spec);props.data&&(hasData=!0);var y=props.encodings.get("Y"),maxValue=null!=(_props$maxValue=props.maxValue)?_props$maxValue:0;maxValues.has(y)?maxValues.set(y,Math.max(maxValue,maxValues.get(y))):maxValues.set(y,maxValue)}})),hasData){spec.series.forEach((function(s,i){s.seriesType})),spec.series.forEach((function(s,i){if(s.isMainSeries){var _maxValues$get,props=getProps(s,spec);props.maxValue=null!=(_maxValues$get=maxValues.get(props.encodings.get("Y")))?_maxValues$get:0;var _drawSeries=function drawSeries(svgHost,props,series,spec,left,top,customMark){var _props$margin;void 0===customMark&&(customMark=null);var svg=svgHost.append("g").attr("transform","translate("+left+","+top+")"),chart_area_background="#ffffff";spec.background&&(chart_area_background=spec.background);series.view&&series.view.fill&&(chart_area_background=series.view.fill);for(var childs=[],i=1;i<spec.series.length;i++){var s=spec.series[i];s.parentId===series.id&&childs.push(s)}childs.length>0&&(props.childs=childs);!function setDefaultSize(series,props){var chartWidth=560,chartHeight=300,margin={top:20,right:30,bottom:30,left:40};switch(series.seriesType){case"Card":margin={top:10,right:10,bottom:10,left:10},chartWidth=300,chartHeight=140;break;case"Bar":margin.left=100}void 0===props.chartWidth&&(props.chartWidth=chartWidth),void 0===props.chartHeight&&(props.chartHeight=chartHeight),props.margin&&(props.margin=margin),void 0===props.width&&(props.width=chartWidth-margin.left-margin.right),void 0===props.height&&(props.height=chartHeight-margin.top-margin.bottom)}(series,props);var margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,rect=svg.append("rect").attr("fill",chart_area_background),repeats=[];childs.forEach((function(s){"Repeat"===s.seriesType&&repeats.push(s)}));var size={width:0,height:0};switch(series.seriesType){case"Card":size=repeats.length>0?series.markPath?function drawSmallMultipleIsoTypeSingle(svg,series,repeats,spec){var _d3$max,data=repeats.map((function(x){return getProps(x,spec)})).map((function(x){var _x$name,_x$data;return{name:null!=(_x$name=x.name)?_x$name:"",values:null!=(_x$data=x.data)?_x$data:[],highlights:x.highlights}})),childs=(src.Fp7(data.map((function(x){return x.values[0].val}))),src.w6H(data.length).map((function(x,i){return{data:data[i],series:repeats[i],start:150*Math.floor(i/2),height:150}}))),containerHeight=null!=(_d3$max=src.Fp7(childs.map((function(x){return x.start+x.height}))))?_d3$max:0;return svg.attr("width",400),svg.attr("height",containerHeight),svg.selectAll("g").data(childs).join("g").attr("transform",(function(x,i){return"translate("+(i%2?200:0)+","+x.start+")"})),{width:400,height:containerHeight}}(svg,0,repeats,spec):function drawSmallMultipleCard(svg,series,repeats,spec){var _d3$max,data=repeats.map((function(x){return getProps(x,spec)})).map((function(x){var _x$name,_x$data;return{name:null!=(_x$name=x.name)?_x$name:"",values:null!=(_x$data=x.data)?_x$data:[],highlights:x.highlights}})),margin_top=50,margin_left=20,margin_bottom=20,width=200-margin_left-20,maxValue=src.Fp7(data.map((function(x){return x.values[0].val}))),childs=src.w6H(data.length).map((function(x,i){return{data:data[i],series:repeats[i],start:150*Math.floor(i/2),height:150}})),containerHeight=null!=(_d3$max=src.Fp7(childs.map((function(x){return x.start+x.height}))))?_d3$max:0;return svg.attr("width",400),svg.attr("height",containerHeight),svg.selectAll("g").data(childs).join("g").attr("transform",(function(x,i){return"translate("+(i%2?200:0)+","+x.start+")"})).each((function(small){var props=getProps(small.series,spec);props.margin={top:0,left:0,right:0,bottom:0},props.width=width,props.height=small.height-margin_top-margin_bottom,props.maxValue=maxValue;var chart=src.Ys(this).append("g").attr("transform",(function(d){return"translate("+margin_left+","+margin_top+")"}));chart.append("text").text(small.data.name).attr("font-size","1em").attr("y","1em").attr("dy",10-margin_top).attr("font-family","Segoe UI").attr("fill","black"),chart.append("text").text(small.data.values[0].key).attr("font-size","1em").attr("y","1em").attr("font-family","Segoe UI").attr("fill","#369"),chart.append("text").text(small.data.values[0].val).attr("font-size","1em").attr("y","3em").attr("font-family","Segoe UI").attr("fill","#333")})),{width:400,height:containerHeight}}(svg,0,repeats,spec):series.markPath?function drawIsotypeSingle(svg,props,series,spec){var _props$margin,_props$width,_props$height,_props$data,_props$color,_props$maxValue,_series$markPath,margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,width=null!=(_props$width=props.width)?_props$width:100,height=null!=(_props$height=props.height)?_props$height:100,data=null!=(_props$data=props.data)?_props$data:[],color=null!=(_props$color=props.color)?_props$color:"#1f77b4",maxValue=null!=(_props$maxValue=props.maxValue)?_props$maxValue:0,ratio=data[0].val/maxValue,path=null!=(_series$markPath=series.markPath)?_series$markPath:"";props.title,svg.attr("width",width+margin.left+margin.right),svg.attr("height",height+margin.top+margin.bottom);var pathG=svg.append("g").attr("class","chartArea").attr("transform","translate("+margin.left+","+margin.top+")").append("g"),tempPath=pathG.append("path").attr("d",path),node=tempPath.node();if(!node)throw new Error("failed to get node");var bbox=tempPath&&tempPath.node()?node.getBBox():{x:0,y:0,width:120,height:120};tempPath.remove();var iconLeft=bbox.x,iconTop=bbox.y,iconWidth=bbox.width,iconHeight=bbox.height,scaleX=width/iconWidth,scaleY=height/iconHeight,scale=Math.min(scaleX,scaleY),pathWidth=scale*iconWidth,pathHeight=scale*iconHeight;return pathG.append("g").append("svg:svg").attr("width",pathWidth).attr("height",pathHeight*(1-ratio)).attr("viewBox","0 0 "+pathWidth+" "+pathHeight*(1-ratio)).append("path").attr("d",path).attr("fill","#cccccc").attr("transform","scale("+scale+") translate("+-iconLeft+","+-iconTop+")"),pathG.append("g").attr("transform","translate(0, "+pathHeight*(1-ratio)+")").append("svg:svg").attr("width",pathWidth).attr("height",pathHeight*ratio).attr("viewBox","0 "+pathHeight*(1-ratio)+" "+pathWidth+" "+pathHeight*ratio).append("path").attr("d",path).attr("fill",color).attr("transform","scale("+scale+") translate("+-iconLeft+","+-iconTop+")"),width=pathWidth,svg.attr("width",width),{width:width+margin.left+margin.right,height:height+margin.top+margin.bottom}}(svg,props,series):function drawCardSeries(svg,props,series,spec){var _props$margin,_props$width,_props$height,_props$data,_props$color,margin=null!=(_props$margin=props.margin)?_props$margin:defaultMargin,width=null!=(_props$width=props.width)?_props$width:100,height=null!=(_props$height=props.height)?_props$height:100,data=null!=(_props$data=props.data)?_props$data:[],color=null!=(_props$color=props.color)?_props$color:"#1f77b4",chart=getChart(svg,width,height,margin);return chart.append("text").text(data[0].val).attr("font-size","2em").attr("font-family","Segoe UI Light").attr("y","1em").attr("fill",color),chart.append("text").text(data[0].key).attr("font-size","1em").attr("font-family","Segoe UI").attr("y","3em").attr("dy",30).attr("fill","#33333"),{width:width+margin.left+margin.right,height:height+margin.top+margin.bottom}}(svg,props);break;case"Column":size=repeats.length>0?function drawSmallMultipleCoumnSeries(svg,props,repeats,spec){var _d3$max,_d3$max2,columns=1;spec.layout&&(columns=spec.layout.columns);var chartWidth=420;2===columns&&(chartWidth=320),3===columns&&(chartWidth=280);var data=repeats.map((function(x){return getProps(x,spec)})).map((function(x){var _x$name,_x$data;return{name:null!=(_x$name=x.name)?_x$name:"",values:null!=(_x$data=x.data)?_x$data:[],highlights:x.highlights}})),childs=src.w6H(data.length).map((function(x,i){return{data:data[i],series:repeats[i],start:200*Math.floor(i/columns),height:200}}));return svg.attr("width",chartWidth*columns),svg.attr("height",null!=(_d3$max=src.Fp7(childs.map((function(x){return x.start+x.height}))))?_d3$max:0),{width:chartWidth*columns,height:null!=(_d3$max2=src.Fp7(childs.map((function(x){return x.start+x.height}))))?_d3$max2:0}}(svg,0,repeats,spec):drawColumnSeries(svg,props,series);break;case"Bar":size=repeats.length>0?function drawSmallMultipleBarSeries(svg,props,repeats,spec){var columns=1;spec.layout&&(columns=spec.layout.columns);var margin_top=50,margin_left=100,margin_right=20,margin_bottom=50,chartWidth=560;2===columns&&(chartWidth=320),3===columns&&(chartWidth=280);var width=chartWidth-margin_left-margin_right,data=repeats.map((function(x){return getProps(x,spec)})).map((function(x){var _x$name,_x$data;return{name:null!=(_x$name=x.name)?_x$name:"",values:null!=(_x$data=x.data)?_x$data:[],highlights:x.highlights}})),maxValue=src.Fp7(data,(function(s){return src.Fp7(s.values.map((function(x){return x.val})))})),childs=src.w6H(data.length).map((function(x,i){return{col:i%columns,start:src.Smz(src.w6H(x).map((function(s){return s%columns==i%columns?data[s].values.length:0}))),length:data[x].values.length}})).map((function(x,i){return{data:data[i],series:repeats[i],left:x.col*chartWidth,start:Math.floor(i/columns)*(margin_top+margin_bottom)+17*x.start,height:17*x.length+margin_top+margin_bottom-1}})),containerWidth=chartWidth*columns,containerHeight=childs[childs.length-1].start+childs[childs.length-1].height,series=svg.attr("width",containerWidth).attr("height",containerHeight).selectAll("g").data(childs).join("g");return series.append("rect").attr("x","2").attr("y","2").attr("width",chartWidth-4).attr("height",(function(d){return d.height-4})).attr("fill","#ffffff").attr("stroke","#ccc").attr("stroke-width","1"),series.attr("transform",(function(x){return"translate("+x.left+","+x.start+")"})).each((function child(small){var props=getProps(small.series,spec);props.margin={top:0,left:0,right:0,bottom:0},props.width=width-20,props.maxValue=maxValue,props.height=small.height-margin_top-margin_bottom;var chart=src.Ys(this).append("g").attr("transform",(function(d){return"translate("+margin_left+","+margin_top+")"}));drawBarSeries(chart,props,small.series,null),chart.append("text").text(small.data.name).attr("font-size","1em").attr("font-family","Segoe UI").attr("fill","#111111").attr("text-anchor","middle").attr("transform",(function(d){return"translate("+(width-margin_left-margin_right)/2+",-10)"}))})),{width:containerWidth,height:containerHeight}}(svg,0,repeats,spec):drawBarSeries(svg,props,series,customMark);break;case"Line":size=drawLineSeries(svg,props,spec)}return rect.attr("width",size.width+margin.left+margin.right).attr("height",size.height+margin.top+margin.bottom),size}(svg,props,s,spec,left,0,null),width=_drawSeries.width,height=_drawSeries.height;left+=width,containerWidth=Math.max(containerWidth,left),containerHeight=Math.max(containerHeight,height)}})),svg.attr("width",containerWidth),svg.attr("height",containerHeight)}}}const visual_module={};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Visual(props){console.log(props);var refSvg=(0,react.useRef)(null);return(0,react.useEffect)((function(){refSvg.current&&(console.log("draw chart"),drawChart(src.Ys(refSvg.current),props.spec))})),(0,jsx_runtime.jsx)("div",{className:visual_module.container,children:(0,jsx_runtime.jsx)("svg",{ref:refSvg})})}try{Visual.displayName="Visual",Visual.__docgenInfo={description:"",displayName:"Visual",props:{spec:{defaultValue:null,description:"",name:"spec",required:!0,type:{name:"ChartSpecification"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["libs/vistalk-visual/src/lib/visual.tsx#Visual"]={docgenInfo:Visual.__docgenInfo,name:"Visual",path:"libs/vistalk-visual/src/lib/visual.tsx#Visual"})}catch(__react_docgen_typescript_loader_error){}function createSpec(seriesType,xField,yField,values,mark,markPath){void 0===mark&&(mark="None");var spec={id:"columnChartId",name:"columnChart name",description:"columnChart description",title:"columnChart title",background:"white",series:[]},chartSeries={id:"seriesId0",mark,markPath,data:{values},encoding:[{channelType:"X",field:xField,definitionType:"Ordinal"},{channelType:"Y",field:yField,definitionType:"Quantitative"}],seriesType,top:0,left:0,width:500,height:300,isMainSeries:!0};return spec.series.push(chartSeries),spec}const visual_stories={component:Visual,title:"Visual"};var Template=function Template(args){return(0,jsx_runtime.jsx)(Visual,Object.assign({},args))},salesByBrand=[{x:"BMW",y:1220996},{x:"Ford",y:5489641},{x:"GMC",y:1690029},{x:"Honda",y:4431426},{x:"Hyundai",y:2227574},{x:"Mazda",y:1017964},{x:"Toyota",y:5282029},{x:"Volkswagen",y:562109}];function createDataPoint(x,y){var map=new Map;return map.set("Brand",x),map.set("Sum of Sales",y),map}var values=salesByBrand.map((function(x){return createDataPoint(x.x,x.y)})),value1=new Map;value1.set("Brand","BMW"),value1.set("Sum of Sales",100);var value2=new Map;value2.set("Brand","Ford"),value2.set("Sum of Sales",200);var brand={column:"Brand",dataType:"String",name:"Brand"},sales={column:"Sales",dataType:"Double",aggregate:"Sum",name:"Sum of Sales"};function createCategoryChart(seriesType){return createSpec(seriesType,brand,sales,values)}var Column=Template.bind({});Column.args={spec:createCategoryChart("Column")};var Bar=Template.bind({});function createIsotypeChart(seriesType,path){return createSpec(seriesType,{column:"Brand",dataType:"String",name:"Brand"},{column:"Sales",dataType:"Double",aggregate:"Sum",name:"Sum of Sales"},values,"Shape",path)}Bar.args={spec:createCategoryChart("Bar")};var Bike=Template.bind({});Bike.args={spec:createIsotypeChart("Column","M101.167,57.406c-3.174,0-6.199,0.631-8.964,1.769l-17.425-30.24l13.221-0.361  c1.656-0.046,2.963-1.425,2.917-3.081c-0.046-1.657-1.419-2.969-3.081-2.917l-18.25,0.5c-1.057,0.029-2.02,0.611-2.535,1.533  c-0.517,0.923-0.51,2.048,0.018,2.964l10.086,17.501H43.849l-6.293-11h10.111c1.657,0,3-1.343,3-3s-1.343-3-3-3h-27  c-1.657,0-3,1.343-3,3s1.343,3,3,3h9.975l8.582,15l-5.205,9.677c-2.457-0.866-5.099-1.344-7.852-1.344  c-12.958,0-23.5,10.467-23.5,23.334s10.542,23.333,23.5,23.333c11.848,0,21.669-8.752,23.268-20.085l11.494-0.04  c1.043-0.004,2.01-0.549,2.551-1.439L81.58,52.757l5.41,9.39c-5.659,4.264-9.323,11.01-9.323,18.594  c0,12.866,10.542,23.333,23.5,23.333s23.5-10.467,23.5-23.333S114.125,57.406,101.167,57.406z M42.733,55.212l13.021,22.756  l-6.256,0.021c-0.815-6.86-4.638-12.819-10.121-16.535L42.733,55.212z M43.429,78.011l-12.982,0.045l6.062-11.268  C40.135,69.433,42.69,73.419,43.429,78.011z M26.167,98.073c-9.648,0-17.5-7.775-17.5-17.333s7.852-17.333,17.5-17.333  c1.723,0,3.385,0.258,4.959,0.721l-8.352,15.525c-0.5,0.932-0.475,2.059,0.07,2.965c0.543,0.903,1.52,1.456,2.572,1.456  c0.003,0,0.007,0,0.012,0l17.916-0.063C41.795,92.009,34.687,98.073,26.167,98.073z M60.997,75.046L47.28,51.073h28.301  L60.997,75.046z M101.167,98.073c-9.648,0-17.5-7.775-17.5-17.334c0-5.363,2.473-10.164,6.348-13.346l8.553,14.845  c0.556,0.964,1.563,1.503,2.603,1.503c0.509,0,1.022-0.13,1.495-0.4c1.436-0.828,1.929-2.662,1.102-4.099l-8.522-14.791  c1.854-0.663,3.842-1.044,5.924-1.044c9.649,0,17.5,7.775,17.5,17.333S110.815,98.073,101.167,98.073z")};var Person=Template.bind({});Person.args={spec:createIsotypeChart("Column","M54.139,14.184c0-5.365,4.35-9.716,9.717-9.716c5.365,0,9.717,4.351,9.717,9.716  c0,5.366-4.352,9.717-9.717,9.717C58.488,23.9,54.139,19.55,54.139,14.184z M63.855,14.184 M53.458,26.044  c-6.881,0-12.415,5.612-12.415,12.612v29.832c0,5.8,8.488,5.8,8.488,0V41.21h2.01v74.692c0,7.755,11.303,7.526,11.303,0V72.544  h1.947v43.358c0,7.526,11.365,7.755,11.365,0V41.21h1.962v27.278c0,5.845,8.444,5.845,8.429,0V38.835  c0-6.455-5.012-12.777-12.566-12.777L53.458,26.044z")};var BikeBar=Template.bind({});BikeBar.args={spec:createIsotypeChart("Bar","M101.167,57.406c-3.174,0-6.199,0.631-8.964,1.769l-17.425-30.24l13.221-0.361  c1.656-0.046,2.963-1.425,2.917-3.081c-0.046-1.657-1.419-2.969-3.081-2.917l-18.25,0.5c-1.057,0.029-2.02,0.611-2.535,1.533  c-0.517,0.923-0.51,2.048,0.018,2.964l10.086,17.501H43.849l-6.293-11h10.111c1.657,0,3-1.343,3-3s-1.343-3-3-3h-27  c-1.657,0-3,1.343-3,3s1.343,3,3,3h9.975l8.582,15l-5.205,9.677c-2.457-0.866-5.099-1.344-7.852-1.344  c-12.958,0-23.5,10.467-23.5,23.334s10.542,23.333,23.5,23.333c11.848,0,21.669-8.752,23.268-20.085l11.494-0.04  c1.043-0.004,2.01-0.549,2.551-1.439L81.58,52.757l5.41,9.39c-5.659,4.264-9.323,11.01-9.323,18.594  c0,12.866,10.542,23.333,23.5,23.333s23.5-10.467,23.5-23.333S114.125,57.406,101.167,57.406z M42.733,55.212l13.021,22.756  l-6.256,0.021c-0.815-6.86-4.638-12.819-10.121-16.535L42.733,55.212z M43.429,78.011l-12.982,0.045l6.062-11.268  C40.135,69.433,42.69,73.419,43.429,78.011z M26.167,98.073c-9.648,0-17.5-7.775-17.5-17.333s7.852-17.333,17.5-17.333  c1.723,0,3.385,0.258,4.959,0.721l-8.352,15.525c-0.5,0.932-0.475,2.059,0.07,2.965c0.543,0.903,1.52,1.456,2.572,1.456  c0.003,0,0.007,0,0.012,0l17.916-0.063C41.795,92.009,34.687,98.073,26.167,98.073z M60.997,75.046L47.28,51.073h28.301  L60.997,75.046z M101.167,98.073c-9.648,0-17.5-7.775-17.5-17.334c0-5.363,2.473-10.164,6.348-13.346l8.553,14.845  c0.556,0.964,1.563,1.503,2.603,1.503c0.509,0,1.022-0.13,1.495-0.4c1.436-0.828,1.929-2.662,1.102-4.099l-8.522-14.791  c1.854-0.663,3.842-1.044,5.924-1.044c9.649,0,17.5,7.775,17.5,17.333S110.815,98.073,101.167,98.073z")};var dvalue1=new Map;dvalue1.set("Date","2010-04-01T00:00:00"),dvalue1.set("Sum of Sales",100);var dvalue2=new Map;dvalue2.set("Date","2010-05-01T00:00:00"),dvalue2.set("Sum of Sales",200);var dvalue3=new Map;dvalue3.set("Date","2010-06-01T00:00:00"),dvalue3.set("Sum of Sales",400);var dvalue4=new Map;dvalue4.set("Date","2010-07-01T00:00:00"),dvalue4.set("Sum of Sales",100);var Line=Template.bind({});Line.args={spec:createSpec("Line",{column:"Date",dataType:"DateTime",name:"Date"},{column:"Sales",dataType:"Double",aggregate:"Sum",name:"Sum of Sales"},[dvalue1,dvalue2,dvalue3,dvalue4])};var TrendLine=Template.bind({}),trendLineSpec=createSpec("Line",{column:"Date",dataType:"DateTime",name:"Date"},{column:"Sales",dataType:"Double",aggregate:"Sum",name:"Sum of Sales"},[dvalue1,dvalue2,dvalue3,dvalue4]),trendData1=new Map;trendData1.set("x","2010-04-01T00:00:00"),trendData1.set("y",120);var trendData2=new Map;trendData2.set("x","2010-07-01T00:00:00"),trendData2.set("y",300);var trendLineSeries={id:"trendLine0",seriesType:"TrendLine",isMainSeries:!1,mark:"None",parentId:trendLineSpec.series[0].id,data:{values:[trendData1,trendData2]},encoding:[{channelType:"Color",constantValue:"red",definitionType:"None"}],top:0,left:0,width:0,height:0};function createAddLineSpec(seriesType){var spec=createSpec(seriesType,{column:"Brand",dataType:"String",name:"Brand"},{column:"Sales",dataType:"Double",aggregate:"Sum",name:"Sum of Sales"},values),lineData=new Map;return lineData.set("y",14e5),spec.series.push({id:"line0",seriesType:"Annotation",isMainSeries:!1,mark:"Line",parentId:spec.series[0].id,data:{values:[lineData]},encoding:[{channelType:"Y",constantValue:"y",definitionType:"None"}],top:0,left:0,width:0,height:0}),spec}trendLineSpec.series.push(trendLineSeries),TrendLine.args={spec:trendLineSpec};var BarAddLine=Template.bind({});BarAddLine.args={spec:createAddLineSpec("Bar")};var ColumnAddLine=Template.bind({});function createAddRectSpec(seriesType){var spec=createSpec(seriesType,{column:"Brand",dataType:"String",name:"Brand"},{column:"Sales",dataType:"Double",aggregate:"Sum",name:"Sum of Sales"},values),rectData1=new Map;rectData1.set("y",1e6);var rectData2=new Map;return rectData2.set("y",3e6),spec.series.push({id:"line0",seriesType:"Annotation",isMainSeries:!1,mark:"Rect",parentId:spec.series[0].id,data:{values:[rectData1,rectData2]},encoding:[{channelType:"Y",constantValue:"y",definitionType:"None"}],top:0,left:0,width:0,height:0}),spec}ColumnAddLine.args={spec:createAddLineSpec("Column")};var ColumnAddRect=Template.bind({});ColumnAddRect.args={spec:createAddRectSpec("Column")};var BarAddRect=Template.bind({});function createHighlightSpec(seriesType){var spec=createCategoryChart(seriesType),highlightData=[salesByBrand[1],salesByBrand[6]].map((function(x){return createDataPoint(x.x,x.y)}));return spec.series.push({id:"highlight0",seriesType:"Highlight",isMainSeries:!1,mark:"Rect",parentId:spec.series[0].id,data:{values:highlightData},encoding:[{channelType:"X",definitionType:"None",field:brand},{channelType:"Y",definitionType:"Quantitative",field:sales},{channelType:"Color",constantValue:"#d62728",definitionType:"None"}],top:0,left:0,width:0,height:0}),spec}BarAddRect.args={spec:createAddRectSpec("Bar")};var BarHighlight=Template.bind({});BarHighlight.args={spec:createHighlightSpec("Bar")};var ColumnHighlight=Template.bind({});ColumnHighlight.args={spec:createHighlightSpec("Column")},Column.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},Column.parameters),Bar.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},Bar.parameters),Bike.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},Bike.parameters),Person.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},Person.parameters),BikeBar.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},BikeBar.parameters),Line.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},Line.parameters),TrendLine.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},TrendLine.parameters),BarAddLine.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},BarAddLine.parameters),ColumnAddLine.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},ColumnAddLine.parameters),ColumnAddRect.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},ColumnAddRect.parameters),BarAddRect.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},BarAddRect.parameters),BarHighlight.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},BarHighlight.parameters),ColumnHighlight.parameters=Object.assign({storySource:{source:"(args) => <Visual {...args} />"}},ColumnHighlight.parameters);var __namedExportsOrder=["Column","Bar","Bike","Person","BikeBar","Line","TrendLine","BarAddLine","ColumnAddLine","ColumnAddRect","BarAddRect","BarHighlight","ColumnHighlight"]},"./storybook-init-framework-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./libs/vistalk-visual/src/lib sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.mdx)$"),__webpack_require__("./libs/vistalk-visual/src/lib sync recursive ^\\.(?:(?:^%7C[\\\\/]%7C(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/])(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[221],(()=>(__webpack_exec__("./node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-server/node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./libs/vistalk-visual/.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);